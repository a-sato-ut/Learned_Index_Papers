{
    "paperId": "c64611586b6fb5d157536f4476d45f63c50de910",
    "title": "Leveraging Query Logs and Machine Learning for Parametric Query Optimization",
    "year": 2021,
    "venue": "Proceedings of the VLDB Endowment",
    "authors": [
        "Kapil Vaidya",
        "Anshuman Dutt",
        "Vivek R. Narasayya",
        "S. Chaudhuri"
    ],
    "doi": "10.14778/3494124.3494126",
    "arxivId": null,
    "url": "https://www.semanticscholar.org/paper/c64611586b6fb5d157536f4476d45f63c50de910",
    "isOpenAccess": false,
    "openAccessPdf": "",
    "publicationTypes": [
        "JournalArticle"
    ],
    "s2FieldsOfStudy": [
        {
            "category": "Computer Science",
            "source": "external"
        },
        {
            "category": "Computer Science",
            "source": "s2-fos-model"
        }
    ],
    "abstract": "\n Parametric query optimization (PQO) must address two problems: identify a relatively small number of plans to cache for a parameterized query (populateCache), and efficiently select the best cached plan to use for executing any instance of the parameterized query (getPlan). Our approach decouples these two decisions. We formulate populateCache as an optimization problem with the goal of identifying a set of plans that minimizes the optimizer estimated cost of queries in the log, and present an efficient algorithm. For getPlan, we leverage query logs to train machine learning (ML) models to choose the lowest optimizer-estimated cost plan from the cached plans. We conduct extensive experiments using complex parameterized queries from benchmarks and real workloads. Our algorithm for populateCache achieves low geometric mean sub-optimality (1.2) even for complex queries using relatively few plans, and scales well to large query logs. The mean latency of our ML model based getPlan technique (~ 210μ\n sec\n ) is between one to four orders of magnitude faster compared to prior PQO techniques. The mean sub-optimality is low (1.05), and the 95\n th\n percentile sub-optimality (1.3) is between 1.1× and 25× lower compared to prior techniques. Finally, we present an efficient algorithm for getPlan that leverages execution time information in query logs to circumvent inaccuracies of the query optimizer's cost estimates.\n",
    "citationCount": 15,
    "referenceCount": 39
}